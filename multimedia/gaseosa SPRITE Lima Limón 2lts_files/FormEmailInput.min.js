(window.webpackJsonpvtex_store_newsletter_1_3_0=window.webpackJsonpvtex_store_newsletter_1_3_0||[]).push([["FormEmailInput"],[function(e,n){e.exports=React},function(e,n,t){"use strict";t.d(n,"a",(function(){return v})),t.d(n,"b",(function(){return f})),t.d(n,"c",(function(){return m}));var i=t(3),a=t(0),r=t.n(a),s=t(4),l=t(5),o=t.n(l),u=Object(a.createContext)(void 0),c=Object(a.createContext)(void 0);function d(e,n){switch(n.type){case"UPDATE_EMAIL":return Object.assign(Object.assign({},e),{email:n.value});case"UPDATE_NAME":return Object.assign(Object.assign({},e),{name:n.value});case"UPDATE_PHONE":return Object.assign(Object.assign({},e),{phone:n.value});case"UPDATE_CONFIRMATION":return Object.assign(Object.assign({},e),{confirmation:n.value});case"SET_INVALID_EMAIL":return Object.assign(Object.assign({},e),{invalidEmail:n.value});case"SET_INVALID_NAME":return Object.assign(Object.assign({},e),{invalidName:n.value});case"SET_INVALID_PHONE":return Object.assign(Object.assign({},e),{invalidPhone:n.value});case"SET_MUTATION_VALUES":return Object.assign(Object.assign({},e),{submission:n.value});case"SET_CUSTOM_VALUES":return Object.assign(Object.assign({},e),{customFields:n.value});default:return e}}function v(e){var n=Object(s.useMutation)(o.a),t=Object(i.a)(n,2),l=t[0],v=t[1],m=v.data,f=v.loading,b=v.error,p=Object(a.useReducer)(d,{email:"",name:null,phone:null,customFields:null,confirmation:null,invalidEmail:!1,invalidName:!1,invalidPhone:!1,subscribe:l,submission:{data:m,loading:f,error:b}}),N=Object(i.a)(p,2),E=N[0],O=N[1];return Object(a.useEffect)((function(){O({type:"SET_MUTATION_VALUES",value:{loading:f,error:b,data:m}})}),[b,f,m]),r.a.createElement(u.Provider,{value:E},r.a.createElement(c.Provider,{value:O},e.children))}function m(){var e=Object(a.useContext)(u);if(void 0===e)throw new Error("useNewsletterState must be used within a NewsletterContextProvider");return e}function f(){var e=Object(a.useContext)(c);if(void 0===e)throw new Error("useNewsletterDispatch must be used within a NewsletterContextProvider");return e}},,,function(e,n){e.exports=ReactApollo},function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"subscribeNewsletter"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"email"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fields"}},type:{kind:"NamedType",name:{kind:"Name",value:"NewsletterFieldsInput"}},directives:[]}],directives:[{kind:"Directive",name:{kind:"Name",value:"context"},arguments:[{kind:"Argument",name:{kind:"Name",value:"provider"},value:{kind:"StringValue",value:"vtex.store-graphql",block:!1}},{kind:"Argument",name:{kind:"Name",value:"sender"},value:{kind:"StringValue",value:"vtex.store-newsletter@1.3.0",block:!1}}]},{kind:"Directive",name:{kind:"Name",value:"runtimeMeta"},arguments:[{kind:"Argument",name:{kind:"Name",value:"hash"},value:{kind:"StringValue",value:"7e8c62d8e9b26b7043954da16e970bdf3aaf854cd2c84344ee408386d70803d2",block:!1}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscribeNewsletter"},arguments:[{kind:"Argument",name:{kind:"Name",value:"email"},value:{kind:"Variable",name:{kind:"Name",value:"email"}}},{kind:"Argument",name:{kind:"Name",value:"fields"},value:{kind:"Variable",name:{kind:"Name",value:"fields"}}}],directives:[]}]}}],loc:{start:0,end:302}};t.loc.source={body:'mutation subscribeNewsletter($email: String, $fields: NewsletterFieldsInput) @context(provider: "vtex.store-graphql", sender: "vtex.store-newsletter@1.3.0") @runtimeMeta(hash: "7e8c62d8e9b26b7043954da16e970bdf3aaf854cd2c84344ee408386d70803d2") {\n  subscribeNewsletter(email: $email, fields: $fields)\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.subscribeNewsletter=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,s=new Set,l=new Set;for(r.forEach((function(e){l.add(e)}));l.size>0;){var o=l;l=new Set,o.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){l.add(e)})))}))}return s.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"subscribeNewsletter")},function(e,n){e.exports=__RENDER_8_COMPONENTS__["vtex.css-handles@1.x/useCssHandles"]},function(e,n){e.exports=__RENDER_8_COMPONENTS__["vtex.native-types@0.x/formatIOMessage"]},function(e,n){e.exports=ReactIntl},function(e,n){e.exports=__RENDER_8_COMPONENTS__["vtex.styleguide@9.x/Input"]},,,,,,,,,function(e,n,t){"use strict";t.r(n),function(e){var n=t(2);t.p=Object(n.getPublicPath)("vtex.store-newsletter@1.3.0");var i=Object(n.register)((function(){return t(19)}),e,"vtex.store-newsletter@1.3.0","vtex.store-newsletter@1.x","FormEmailInput");i.renderHotReload,i.setupHMR}.call(this,t(10)(e))},function(e,n,t){"use strict";t.r(n);var i=t(0),a=t.n(i),r=t(8),s=t(9),l=t.n(s),o=t(7),u=t.n(o),c=t(6),d=t.n(c),v=t(1),m=["emailInputContainer"];function f(e){var n=e.placeholderText,t=void 0===n?"store/newsletter-input-email.placeholderText.default":n,i=e.errorMessage,s=void 0===i?"store/newsletter-input-email.errorMessage.default":i,o=e.inputLabel,c=e.classes,f=Object(v.c)().invalidEmail,b=Object(v.b)(),p=d()(m,{classes:c}).withModifiers,N=Object(r.useIntl)();return a.a.createElement("div",{className:"".concat(p("emailInputContainer",f?"invalid":""))},a.a.createElement(l.a,{id:"newsletter-input-email",type:"email",name:"newsletter",label:u()({id:o,intl:N}),onChange:function(e){b({type:"UPDATE_EMAIL",value:e.target.value.trim()})},errorMessage:f?u()({id:s,intl:N}):null,placeholder:u()({id:t,intl:N})}))}f.schema={title:"admin/editor.newsletter-input-email.title"},n.default=f}],[[18,"common"]]]);